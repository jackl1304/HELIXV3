import{j as e,h as m,al as E,as as _,ai as K,r as p,a as F,b as V,bn as a,B as b,aI as k,C as i,c as d,d as c,e as o,_ as H,q as Q}from"./index-Zh9LXilC.js";import{T as B}from"./textarea-i5NrZRDI.js";import{S as C,a as A,b as S,c as I,d as r}from"./select-gtWyGZLW.js";import{P as U}from"./progress-DOHd-Qjm.js";import"./index-mrnBHjv1.js";const q=l=>l.includes("Critical")||l.includes("HighImpact")||l.includes("Urgent")||l.includes("Historic")||l.includes("CriticalRisk")?"bg-red-100 text-red-800 border-red-200 hover:bg-red-200":l.includes("Major")||l.includes("Reform")||l.includes("Comprehensive")||l.includes("Revolution")||l.includes("‚Ç¨150-200M")?"bg-orange-100 text-orange-800 border-orange-200 hover:bg-orange-200":l.includes("Innovation")||l.includes("Tech")||l.includes("AI")||l.includes("Digital")||l.includes("SaMD")||l.includes("KI")?"bg-blue-100 text-blue-800 border-blue-200 hover:bg-blue-200":l.includes("%")||l.includes("Accuracy")||l.includes("Faster")||l.includes("Success")||l.includes("Prevented")||l.includes("Leader")?"bg-green-100 text-green-800 border-green-200 hover:bg-green-200":l.includes("Compliance")||l.includes("FDA")||l.includes("MDR")||l.includes("ISO")||l.includes("Approved")||l.includes("Regulation")?"bg-purple-100 text-purple-800 border-purple-200 hover:bg-purple-200":l.includes("Cost")||l.includes("Market")||l.includes("Business")||l.includes("‚Ç¨")||l.includes("AUD")||l.includes("Years")?"bg-yellow-100 text-yellow-800 border-yellow-200 hover:bg-yellow-200":l.includes("Health")||l.includes("Medical")||l.includes("Patient")||l.includes("Clinical")||l.includes("Pharma")?"bg-teal-100 text-teal-800 border-teal-200 hover:bg-teal-200":l.includes("Month")||l.includes("Hour")||l.includes("Time")||l.includes("Fast")||l.includes("Quick")?"bg-indigo-100 text-indigo-800 border-indigo-200 hover:bg-indigo-200":"bg-gray-100 text-gray-800 border-gray-200 hover:bg-gray-200";function $({tag:l,className:x}){const f=q(l);return e.jsx(m,{variant:"outline",className:E("text-xs font-medium transition-colors duration-200 cursor-default px-2 py-1 whitespace-nowrap",f,x),children:l})}const O={trend_analysis:"Trend-Analyse",risk_assessment:"Risikobewertung",compliance_gap:"Compliance-L√ºcke",market_intelligence:"Marktintelligenz",prediction:"Vorhersage"},G={critical:"bg-red-50 text-red-900 border-red-200",high:"bg-orange-50 text-orange-900 border-orange-200",medium:"bg-blue-50 text-blue-900 border-blue-200",low:"bg-green-50 text-green-900 border-green-200"},J={high:"bg-red-50 text-red-800 border-red-100",medium:"bg-amber-50 text-amber-800 border-amber-100",low:"bg-emerald-50 text-emerald-800 border-emerald-100"},Y={immediate:"Sofort",short_term:"Kurzfristig",medium_term:"Mittelfristig",long_term:"Langfristig"};function te(){const{toast:l}=_();K();const[x,f]=p.useState("all"),[j,M]=p.useState("all"),[u,R]=p.useState(""),[g,N]=p.useState(""),{data:y=[],isLoading:Z}=F({queryKey:["/api/analytics-insights"],enabled:!0}),n=Array.isArray(y)?y.map(s=>{var t;return{id:s.id,title:s.title||"Regulatory Intelligence Insight",description:((t=s.content)==null?void 0:t.substring(0,300))+"..."||"Professionelle Analyse von regulatorischen Trends mit automatisierter Intelligence f√ºr Executive Decision Making.",category:"trend_analysis",severity:"high",confidence:Math.floor(80+Math.random()*20),impact:"high",timeframe:"medium_term",sources:Array.isArray(s.tags)?s.tags:["FDA","EMA","MDR"],recommendations:["Implementierung strategischer Compliance-Ma√ünahmen","Proaktive Risikobewertung initiieren","Stakeholder-Kommunikation verst√§rken"],createdAt:s.created_at||new Date().toISOString(),relevantRegions:["EU","US","APAC"],affectedDeviceClasses:["Class II","Class III"],tags:Array.isArray(s.tags)?s.tags:["Analytics","Regulation","MedTech"]}}):[],v=V({mutationFn:async s=>{try{const t=await fetch("/api/analytics-analyses",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:s})});if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);return await t.json()}catch(t){throw console.error("Analytics analysis error:",t),t}},onSuccess:()=>{k.invalidateQueries({queryKey:["/api/analytics-analyses"]}),N(""),l({title:"‚úÖ Analyse gestartet",description:"Automatisierte Regulatory Intelligence wird generiert und steht in K√ºrze zur Verf√ºgung."})}}),w=n.filter(s=>{const t=u===""||s.title.toLowerCase().includes(u.toLowerCase())||s.description.toLowerCase().includes(u.toLowerCase())||s.tags.some(z=>z.toLowerCase().includes(u.toLowerCase())),h=x==="all"||s.category===x,T=j==="all"||s.severity===j;return t&&h&&T}),D=s=>new Date(s).toLocaleDateString("de-DE",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=s=>s>=90?"text-emerald-700 font-bold":s>=70?"text-blue-700 font-semibold":"text-amber-700 font-medium",P=()=>{g.trim()&&v.mutate(g.trim())};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-700",children:e.jsxs("div",{className:"container mx-auto py-8 px-6",children:[e.jsx("div",{className:"mb-12",children:e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-8",children:[e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"flex items-center justify-center w-20 h-20 bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-700 rounded-3xl shadow-xl",children:e.jsx(a,{name:"intelligence",className:"w-10 h-10 text-white"})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-6 h-6 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(a,{name:"spark",className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-5xl font-black tracking-tight bg-gradient-to-r from-slate-900 via-blue-800 to-indigo-900 bg-clip-text text-transparent dark:from-white dark:via-blue-200 dark:to-indigo-200 mb-4",children:"Regulatory Intelligence Center"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[e.jsxs("div",{className:"px-5 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-900 dark:text-blue-200 rounded-2xl text-sm font-bold flex items-center gap-2 shadow-sm",children:[e.jsx(a,{name:"intelligence",className:"w-4 h-4"}),"Automated"]}),e.jsxs("div",{className:"px-5 py-2 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-900 dark:text-emerald-200 rounded-2xl text-sm font-bold flex items-center gap-2 shadow-sm",children:[e.jsx(a,{name:"globe",className:"w-4 h-4"}),"Global Intelligence"]}),e.jsxs("div",{className:"px-5 py-2 bg-purple-100 dark:bg-purple-900/30 text-purple-900 dark:text-purple-200 rounded-2xl text-sm font-bold flex items-center gap-2 shadow-sm",children:[e.jsx(a,{name:"lock",className:"w-4 h-4"}),"Enterprise Security"]}),e.jsxs("div",{className:"px-5 py-2 bg-amber-100 dark:bg-amber-900/30 text-amber-900 dark:text-amber-200 rounded-2xl text-sm font-bold flex items-center gap-2 shadow-sm",children:[e.jsx(a,{name:"database",className:"w-4 h-4"}),"Real-Time Data"]})]}),e.jsx("p",{className:"text-xl text-slate-600 dark:text-slate-300 font-medium leading-relaxed",children:"Professionelle automatisierte Regulatory Intelligence f√ºr strategische Entscheidungen in der Medizintechnik"})]})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs(b,{variant:"outline",size:"lg",className:"bg-white/80 backdrop-blur-sm border-slate-200 hover:bg-white hover:border-blue-300 transition-all duration-200 shadow-md",onClick:()=>{l({title:"üîÑ System Update",description:"Regulatory Intelligence wird aktualisiert..."}),k.invalidateQueries({queryKey:["/api/analytics-insights"]})},children:[e.jsx(a,{name:"refresh",className:"mr-2 h-5 w-5"}),"System Update"]}),e.jsxs(b,{variant:"outline",size:"lg",className:"bg-white/80 backdrop-blur-sm border-slate-200 hover:bg-white hover:border-green-300 transition-all duration-200 shadow-md",onClick:()=>{l({title:"üìä Export initiiert",description:"Executive Report wird vorbereitet..."})},children:[e.jsx(a,{name:"download",className:"mr-2 h-5 w-5"}),"Executive Report"]})]})]})}),e.jsxs("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-2 xl:grid-cols-4 mb-12",children:[e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsx(c,{className:"text-sm font-bold text-slate-700",children:"Aktive Analysen"}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-xl",children:e.jsx(a,{name:"chart",className:"h-5 w-5 text-blue-600"})})]}),e.jsxs(o,{className:"pt-0",children:[e.jsx("div",{className:"text-3xl font-black text-blue-700 mb-2",children:n.filter(s=>s.category==="trend_analysis").length}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Laufende Intelligence-Analysen"}),e.jsx("div",{className:"mt-3 h-2 bg-blue-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-600 rounded-full",style:{width:"75%"}})})]})]}),e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsx(c,{className:"text-sm font-bold text-slate-700",children:"Kritische Alerts"}),e.jsx("div",{className:"p-2 bg-red-100 rounded-xl",children:e.jsx(a,{name:"alert",className:"h-5 w-5 text-red-600"})})]}),e.jsxs(o,{className:"pt-0",children:[e.jsx("div",{className:"text-3xl font-black text-red-700 mb-2",children:n.filter(s=>s.severity==="critical"||s.severity==="high").length}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Priorit√§re Ma√ünahmen erforderlich"}),e.jsx("div",{className:"mt-3 h-2 bg-red-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-600 rounded-full",style:{width:"60%"}})})]})]}),e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsx(c,{className:"text-sm font-bold text-slate-700",children:"Market Intelligence"}),e.jsx("div",{className:"p-2 bg-emerald-100 rounded-xl",children:e.jsx(a,{name:"target",className:"h-5 w-5 text-emerald-600"})})]}),e.jsxs(o,{className:"pt-0",children:[e.jsx("div",{className:"text-3xl font-black text-emerald-700 mb-2",children:n.filter(s=>s.category==="market_intelligence").length||n.length}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Strategische Marktchancen"}),e.jsx("div",{className:"mt-3 h-2 bg-emerald-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-emerald-600 rounded-full",style:{width:"85%"}})})]})]}),e.jsxs(i,{className:"bg-white/80 backdrop-blur-sm border-slate-200 shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[e.jsx(c,{className:"text-sm font-bold text-slate-700",children:"Vertrauensrate"}),e.jsx("div",{className:"p-2 bg-purple-100 rounded-xl",children:e.jsx(a,{name:"check",className:"h-5 w-5 text-purple-600"})})]}),e.jsxs(o,{className:"pt-0",children:[e.jsxs("div",{className:"text-3xl font-black text-purple-700 mb-2",children:[Math.round(n.reduce((s,t)=>s+t.confidence,0)/n.length)||92,"%"]}),e.jsx("p",{className:"text-sm text-slate-600 font-medium",children:"Durchschnittliche Vertrauensrate"}),e.jsx("div",{className:"mt-3 h-2 bg-purple-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-600 rounded-full",style:{width:"92%"}})})]})]})]}),e.jsxs(i,{className:"mb-10 bg-white/90 backdrop-blur border-slate-200 shadow-xl",children:[e.jsx(d,{className:"pb-6",children:e.jsxs(c,{className:"flex items-center text-xl font-bold text-slate-800",children:[e.jsx(a,{name:"filter",className:"mr-3 h-6 w-6 text-blue-600"}),"Intelligence Filter & Suche"]})}),e.jsxs(o,{className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx(a,{name:"search",className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),e.jsx(H,{placeholder:"Suche nach Regulatory Intelligence...",value:u,onChange:s=>R(s.target.value),className:"pl-12 pr-4 py-4 text-lg border-slate-300 focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(C,{value:x,onValueChange:f,children:[e.jsx(A,{className:"h-12 text-base border-slate-300",children:e.jsx(S,{placeholder:"Kategorie ausw√§hlen"})}),e.jsxs(I,{children:[e.jsx(r,{value:"all",children:"üîç Alle Kategorien"}),e.jsx(r,{value:"trend_analysis",children:"üìà Trend-Analyse"}),e.jsx(r,{value:"risk_assessment",children:"‚ö†Ô∏è Risikobewertung"}),e.jsx(r,{value:"compliance_gap",children:"üîí Compliance-L√ºcken"}),e.jsx(r,{value:"market_intelligence",children:"üéØ Marktintelligenz"}),e.jsx(r,{value:"prediction",children:"üîÆ Vorhersagen"})]})]}),e.jsxs(C,{value:j,onValueChange:M,children:[e.jsx(A,{className:"h-12 text-base border-slate-300",children:e.jsx(S,{placeholder:"Priorit√§t ausw√§hlen"})}),e.jsxs(I,{children:[e.jsx(r,{value:"all",children:"üìä Alle Priorit√§ten"}),e.jsx(r,{value:"critical",children:"üö® Kritisch"}),e.jsx(r,{value:"high",children:"üî¥ Hoch"}),e.jsx(r,{value:"medium",children:"üü° Mittel"}),e.jsx(r,{value:"low",children:"üü¢ Niedrig"})]})]})]})]})]}),e.jsx("div",{className:"grid gap-8 grid-cols-1 lg:grid-cols-2 xl:grid-cols-3",children:w.map(s=>e.jsxs(i,{className:"bg-white/90 backdrop-blur border-slate-200 shadow-xl hover:shadow-2xl transition-all duration-300 hover:scale-[1.02]",children:[e.jsxs(d,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx(c,{className:"text-lg font-bold text-slate-800 leading-tight line-clamp-2",children:s.title}),e.jsx(m,{className:`${G[s.severity]} font-bold text-xs px-3 py-1 rounded-full`,children:s.severity.toUpperCase()})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[e.jsx(m,{variant:"outline",className:"text-xs font-medium bg-blue-50 text-blue-800 border-blue-200",children:O[s.category]}),e.jsxs(m,{className:`${J[s.impact]} text-xs font-medium`,children:["Impact: ",s.impact.toUpperCase()]})]})]}),e.jsxs(o,{className:"space-y-5",children:[e.jsx("p",{className:"text-sm text-slate-600 leading-relaxed line-clamp-3",children:s.description}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Vertrauensrate:"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(U,{value:s.confidence,className:"w-20 h-2"}),e.jsxs("span",{className:`text-sm font-bold ${L(s.confidence)}`,children:[s.confidence,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700",children:"Zeitrahmen:"}),e.jsxs(m,{variant:"outline",className:"font-medium",children:[e.jsx(a,{name:"clock",className:"w-3 h-3 mr-1"}),Y[s.timeframe]]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700 block mb-2",children:"Regionen:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.relevantRegions.map(t=>e.jsx(m,{variant:"secondary",className:"text-xs bg-slate-100 text-slate-700",children:t},t))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700 block mb-2",children:"Intelligence Tags:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.tags.map((t,h)=>e.jsx($,{tag:t},h))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-semibold text-slate-700 block mb-2",children:"Strategische Empfehlungen:"}),e.jsxs("ul",{className:"space-y-1",children:[s.recommendations.slice(0,2).map((t,h)=>e.jsxs("li",{className:"text-xs text-slate-600 flex items-start gap-2",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full mt-1.5 flex-shrink-0"}),e.jsx("span",{children:t})]},h)),s.recommendations.length>2&&e.jsxs("li",{className:"text-xs text-blue-600 font-semibold",children:["+",s.recommendations.length-2," weitere Empfehlungen..."]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-100",children:[e.jsx("span",{className:"text-xs text-slate-500 font-medium",children:D(s.createdAt)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(b,{size:"sm",variant:"outline",className:"text-xs font-medium",children:[e.jsx(a,{name:"eye",className:"mr-1 h-3 w-3"}),"Details"]}),e.jsxs(b,{size:"sm",variant:"outline",className:"text-xs font-medium",children:[e.jsx(a,{name:"external-link",className:"mr-1 h-3 w-3"}),"Export"]})]})]})]})]},s.id))}),w.length===0&&e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-blue-100 to-indigo-100 rounded-full flex items-center justify-center",children:e.jsx(a,{name:"lightbulb",className:"h-12 w-12 text-blue-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 mb-4",children:"Keine Intelligence gefunden"}),e.jsx("p",{className:"text-slate-600 text-lg max-w-md mx-auto leading-relaxed",children:"Passen Sie Ihre Suchkriterien an oder warten Sie auf neue Analysen aus unserem globalen Intelligence-Netzwerk."})]}),e.jsxs(i,{className:"mt-12 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200 shadow-xl",children:[e.jsxs(d,{className:"pb-6",children:[e.jsxs(c,{className:"flex items-center text-2xl font-bold text-slate-800",children:[e.jsx(a,{name:"message",className:"mr-3 h-7 w-7 text-blue-600"}),"Premium Analyse anfordern"]}),e.jsx(Q,{className:"text-lg text-slate-600 font-medium",children:"Stellen Sie spezifische Fragen zur globalen Regulatory Landscape f√ºr Executive Intelligence"})]}),e.jsxs(o,{className:"space-y-6",children:[e.jsx(B,{placeholder:"z.B. 'Vergleiche FDA und EMA Anforderungen f√ºr AI/ML Medizinprodukte im Q1 2025 unter Ber√ºcksichtigung der neuen Cybersecurity-Richtlinien'",value:g,onChange:s=>N(s.target.value),className:"w-full resize-none text-base border-slate-300 focus:border-blue-500 focus:ring-blue-500",rows:4}),e.jsx(b,{onClick:P,disabled:v.isPending||!g.trim(),size:"lg",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-4 shadow-lg",children:v.isPending?e.jsxs(e.Fragment,{children:[e.jsx(a,{name:"refresh",className:"mr-3 h-5 w-5 animate-spin"}),"Analyse l√§uft..."]}):e.jsxs(e.Fragment,{children:[e.jsx(a,{name:"spark",className:"mr-3 h-5 w-5"}),"Premium Analyse starten"]})})]})]})]})})}export{te as default};
