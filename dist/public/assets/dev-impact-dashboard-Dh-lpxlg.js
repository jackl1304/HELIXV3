import{r as T,a as D,j as e,C as t,c as a,d as i,bC as v,e as c,bD as y,F as L,aq as S,T as k,A as b,bA as m,bB as h,h as n}from"./index-Zh9LXilC.js";import{T as U,a as q,b as j,c as f}from"./tabs-DIpelL6C.js";function E(){const[A,F]=T.useState("all"),{data:r,isLoading:o}=D({queryKey:["/api/regulatory-updates"],queryFn:async()=>{const s=await fetch("/api/regulatory-updates?limit=100");if(!s.ok)throw new Error("Failed to fetch");return s.json()}}),g=(r==null?void 0:r.filter(s=>{var l;return(l=s.impactedProcesses)==null?void 0:l.some(d=>d.toLowerCase().includes("software")||d.toLowerCase().includes("code"))}))||[],p=(r==null?void 0:r.filter(s=>s.impactedProcesses&&s.impactedProcesses.length>0))||[],N=(r==null?void 0:r.filter(s=>{var l;return s.type==="standard"||((l=s.category)==null?void 0:l.includes("standard"))}))||[],u=(r==null?void 0:r.filter(s=>s.type==="guidance"||s.title.toLowerCase().includes("guidance")||s.title.toLowerCase().includes("technical")))||[],w=(r==null?void 0:r.filter(s=>s.priority<=2&&s.actionRequired))||[],C=(r==null?void 0:r.filter(s=>s.priority===3&&s.actionRequired))||[],P=(r==null?void 0:r.filter(s=>s.priority>=4||!s.actionRequired))||[],x=s=>s===1?"destructive":s===2?"default":s===3?"secondary":"outline";return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Developer Impact Dashboard"}),e.jsx("p",{className:"text-muted-foreground",children:"Technical Implementation & Process Changes"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs(t,{children:[e.jsx(a,{className:"pb-3",children:e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(v,{className:"h-4 w-4"}),"Software Impact"]})}),e.jsxs(c,{children:[e.jsx("div",{className:"text-3xl font-bold",children:g.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Code changes required"})]})]}),e.jsxs(t,{children:[e.jsx(a,{className:"pb-3",children:e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Process Impact"]})}),e.jsxs(c,{children:[e.jsx("div",{className:"text-3xl font-bold",children:p.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Workflow adjustments"})]})]}),e.jsxs(t,{children:[e.jsx(a,{className:"pb-3",children:e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Standards"]})}),e.jsxs(c,{children:[e.jsx("div",{className:"text-3xl font-bold",children:N.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Standard updates"})]})]}),e.jsxs(t,{children:[e.jsx(a,{className:"pb-3",children:e.jsxs(i,{className:"text-sm font-medium flex items-center gap-2",children:[e.jsx(S,{className:"h-4 w-4"}),"Technical Guidance"]})}),e.jsxs(c,{children:[e.jsx("div",{className:"text-3xl font-bold",children:u.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Implementation guides"})]})]})]}),e.jsxs(t,{children:[e.jsx(a,{children:e.jsxs(i,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Implementation Complexity"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 border-2 border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{className:"h-5 w-5 text-red-600"}),e.jsx("h3",{className:"font-semibold text-red-900",children:"High Complexity"})]}),e.jsx("div",{className:"text-2xl font-bold text-red-600 mb-1",children:w.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Major refactoring, architecture changes"})]}),e.jsxs("div",{className:"p-4 border-2 border-yellow-200 rounded-lg bg-yellow-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{className:"h-5 w-5 text-yellow-600"}),e.jsx("h3",{className:"font-semibold text-yellow-900",children:"Medium Complexity"})]}),e.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:C.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Module updates, config changes"})]}),e.jsxs("div",{className:"p-4 border-2 border-green-200 rounded-lg bg-green-50",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(b,{className:"h-5 w-5 text-green-600"}),e.jsx("h3",{className:"font-semibold text-green-900",children:"Low Complexity"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:P.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Documentation, minor tweaks"})]})]})})]}),e.jsxs(U,{defaultValue:"software",className:"w-full",children:[e.jsxs(q,{className:"grid w-full grid-cols-4",children:[e.jsx(j,{value:"software",children:"Software Impact"}),e.jsx(j,{value:"process",children:"Process Changes"}),e.jsx(j,{value:"standards",children:"Standards"}),e.jsx(j,{value:"guidance",children:"Technical Guidance"})]}),e.jsx(f,{value:"software",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(i,{children:"Software Development Impact"})}),e.jsx(c,{children:o?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):g.length===0?e.jsx(m,{children:e.jsx(h,{children:"No software-specific regulatory updates found"})}):e.jsx("div",{className:"space-y-3",children:g.map(s=>{var l;return e.jsxs("div",{className:"p-4 border rounded-lg hover:bg-accent transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsxs(n,{variant:x(s.priority),children:["P",s.priority]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(l=s.impactedProcesses)==null?void 0:l.map((d,I)=>e.jsxs(n,{variant:"outline",children:[e.jsx(v,{className:"h-3 w-3 mr-1"}),d]},I))}),s.sourceUrl&&e.jsx("a",{href:s.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline mt-2 inline-block",children:"View Source →"})]},s.id)})})})]})}),e.jsx(f,{value:"process",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(i,{children:"Process & Workflow Changes"})}),e.jsx(c,{children:o?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):p.length===0?e.jsx(m,{children:e.jsx(h,{children:"No process impact identified"})}):e.jsx("div",{className:"space-y-3",children:p.map(s=>e.jsxs("div",{className:"p-4 border rounded-lg hover:bg-accent transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h4",{className:"font-medium",children:s.title}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{variant:x(s.priority),children:["P",s.priority]}),e.jsx(n,{variant:"outline",children:s.jurisdiction})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.description}),s.impactedProcesses&&s.impactedProcesses.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h5",{className:"text-sm font-medium",children:"Impacted Processes:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.impactedProcesses.map((l,d)=>e.jsxs(n,{variant:"secondary",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),l]},d))})]})]},s.id))})})]})}),e.jsx(f,{value:"standards",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(i,{children:"Standard Updates & Revisions"})}),e.jsx(c,{children:o?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):N.length===0?e.jsx(m,{children:e.jsx(h,{children:"No standard updates available"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2 font-medium",children:"Standard"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Type"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Priority"}),e.jsx("th",{className:"text-left p-2 font-medium",children:"Published"})]})}),e.jsx("tbody",{children:N.map(s=>e.jsxs("tr",{className:"border-b hover:bg-accent",children:[e.jsx("td",{className:"p-2",children:e.jsx("a",{href:s.sourceUrl||"#",target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:s.title})}),e.jsx("td",{className:"p-2",children:e.jsx(n,{variant:"outline",children:s.type})}),e.jsx("td",{className:"p-2",children:e.jsxs(n,{variant:x(s.priority),children:["P",s.priority]})}),e.jsx("td",{className:"p-2 text-sm text-muted-foreground",children:s.publishedDate?new Date(s.publishedDate).toLocaleDateString("de-DE"):"N/A"})]},s.id))})]})})})]})}),e.jsx(f,{value:"guidance",className:"space-y-4",children:e.jsxs(t,{children:[e.jsx(a,{children:e.jsx(i,{children:"Technical Guidance & Implementation Help"})}),e.jsx(c,{children:o?e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):u.length===0?e.jsx(m,{children:e.jsx(h,{children:"No technical guidance documents available"})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u.map(s=>e.jsxs(t,{className:"hover:shadow-md transition-shadow",children:[e.jsx(a,{className:"pb-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(i,{className:"text-base line-clamp-2",children:s.title}),e.jsx(n,{variant:"outline",children:s.jurisdiction})]})}),e.jsxs(c,{children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-3",children:s.description}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(n,{variant:x(s.priority),children:["P",s.priority]}),s.sourceUrl&&e.jsx("a",{href:s.sourceUrl,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline",children:"Read Guide →"})]})]})]},s.id))})})]})})]})]})}export{E as default};
