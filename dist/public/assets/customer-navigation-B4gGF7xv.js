import{ai as w,x as v,r as u,y as j,aj as N,F as k,S as I,a0 as A,o as C,p as D,k as S,a2 as B,G as E,n as z,ak as L,K as P,j as e,O as G,B as m,J as K,N as R,al as l}from"./index-Zh9LXilC.js";const H=[{name:"Dashboard",href:"/dashboard",icon:N,permission:"dashboard",description:"Übersicht und aktuelle Statistiken"},{name:"Regulatorische Updates",href:"/regulatory-updates",icon:k,permission:"regulatoryUpdates",description:"Aktuelle regulatorische Änderungen"},{name:"Rechtsprechung",href:"/legal-cases",icon:I,permission:"legalCases",description:"Rechtsprechung und Präzedenzfälle"},{name:"Wissensdatenbank",href:"/knowledge-base",icon:A,permission:"knowledgeBase",description:"Wissensdatenbank und Artikel"},{name:"Newsletter",href:"/newsletters",icon:C,permission:"newsletters",description:"Newsletter-Verwaltung"},{name:"Analytics",href:"/analytics",icon:D,permission:"analytics",description:"Datenanalyse und Berichte"},{name:"Erweiterte Analytics",href:"/advanced-analytics",icon:S,permission:"advancedAnalytics",description:"Erweiterte Analysetools"},{name:"KI-Erkenntnisse",href:"/ai-insights",icon:B,permission:"aiInsights",description:"KI-gestützte Erkenntnisse"},{name:"Globale Datenquellen",href:"/global-sources",icon:E,permission:"globalSources",description:"Globale Datenquellen"},{name:"Datensammlung",href:"/data-collection",icon:z,permission:"dataCollection",description:"Datensammlung und -verwaltung"},{name:"Historische Daten",href:"/historical-data",icon:L,permission:"historicalData",description:"Historische Datenanalyse"},{name:"Einstellungen",href:"/settings",icon:P,permission:"systemSettings",description:"Kundeneinstellungen"}];function T({permissions:h,tenantName:r,onPermissionsUpdate:i}){const[c,x]=w(),n=v(),[p,g]=u.useState(h),{logout:f}=j(),b=s=>n.tenantId?`/tenant/${n.tenantId}${s}`:s;u.useEffect(()=>{if(!n.tenantId)return;const s=async()=>{try{const t=await fetch(`/api/customer/tenant/${n.tenantId}`);if(t.ok){const a=await t.json();a.customerPermissions&&(g(a.customerPermissions),i==null||i(a.customerPermissions))}}catch(t){console.error("Fehler beim Abrufen der aktuellen Berechtigungen:",t)}};s();const o=setInterval(s,5e3);return()=>clearInterval(o)},[n.tenantId,i]);const d=H.filter(s=>p[s.permission]),y=s=>{const o=b(s.href),t=c===o||c===s.href,a=s.icon;return e.jsxs("button",{onClick:()=>x(o),className:l("w-full flex items-center justify-start px-4 py-3 text-sm font-medium rounded-lg transition-all duration-200 cursor-pointer group",t?"bg-blue-600 text-white shadow-md":"text-gray-700 hover:bg-blue-50 hover:text-blue-700"),children:[e.jsx(a,{className:l("mr-3 h-5 w-5 flex-shrink-0 transition-colors",t?"text-white":"text-gray-500 group-hover:text-blue-600")}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-left font-medium",children:s.name}),s.description&&e.jsx("span",{className:l("text-xs text-left mt-0.5",t?"text-blue-100":"text-gray-500"),children:s.description})]})]},s.href)};return e.jsxs("div",{className:"fixed left-0 top-0 h-screen w-64 flex flex-col bg-white border-r border-gray-200 shadow-lg z-50",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 via-purple-600 to-cyan-700 rounded-lg flex items-center justify-center text-white font-bold text-sm",children:(r==null?void 0:r.charAt(0))||"H"}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:r||"Customer Portal"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Regulatory Intelligence"})]})]})}),e.jsx("nav",{className:"flex-1 px-4 py-6 space-y-2 overflow-y-auto",children:d.length>0?d.map(y):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(G,{className:"w-12 h-12 mx-auto text-gray-400 mb-3"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Keine Berechtigung für Navigation"})]})}),e.jsxs("div",{className:"p-4 border-t border-gray-200 bg-gray-50 space-y-2",children:[e.jsxs(m,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open("/chat-support","_blank"),children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Support Chat"]}),e.jsxs(m,{variant:"ghost",size:"sm",className:"w-full text-red-600 hover:text-red-700 hover:bg-red-50",onClick:()=>{f(),window.location.reload()},children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Abmelden"]}),e.jsx("p",{className:"text-xs text-gray-500 text-center mt-2",children:"Powered by Helix Platform"})]})]})}export{T as C};
