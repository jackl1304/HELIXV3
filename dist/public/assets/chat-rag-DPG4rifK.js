import{r as a,j as e,a2 as N,C as c,c as d,d as o,J as A,q as C,e as x,s as D,bx as y,_ as E,B as k,az as M,Z as R,bl as z}from"./index-BUxZYuNm.js";function I(){const[l,m]=a.useState([]),[n,u]=a.useState(""),[r,p]=a.useState(!1),[j,v]=a.useState("general"),f=a.useRef(null),w=[{id:"fda",label:"FDA Agent",icon:"üá∫üá∏",description:"FDA-spezifische Anfragen"},{id:"ema",label:"EMA Agent",icon:"üá™üá∫",description:"EU-regulatorische Fragen"},{id:"compliance",label:"Compliance",icon:"‚öñÔ∏è",description:"Compliance & Dokumentation"},{id:"general",label:"General",icon:"üåç",description:"Allgemeine Fragen"}];a.useEffect(()=>{var s;(s=f.current)==null||s.scrollIntoView({behavior:"smooth"})},[l]);const b=async()=>{if(!n.trim())return;const s={id:Date.now().toString(),role:"user",content:n,timestamp:new Date};m(t=>[...t,s]),u(""),p(!0);try{const t=await fetch("/api/chat/rag",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:n,agent:j,context:l.slice(-5).map(i=>({role:i.role,content:i.content}))})});if(!t.ok)throw new Error("API request failed");const h=await t.json(),g={id:(Date.now()+1).toString(),role:"assistant",content:h.response||"Entschuldigung, ich konnte keine Antwort generieren.",timestamp:new Date};m(i=>[...i,g])}catch(t){console.error("Error sending message:",t);const h={id:(Date.now()+1).toString(),role:"assistant",content:"Entschuldigung, es gab einen Fehler bei der Verarbeitung Ihrer Anfrage. Bitte versuchen Sie es sp√§ter erneut.",timestamp:new Date};m(g=>[...g,h])}finally{p(!1)}},S=s=>{s.key==="Enter"&&!s.shiftKey&&(s.preventDefault(),b())};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-700 rounded-xl p-8 text-white shadow-lg",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-3xl font-bold mb-2 flex items-center gap-3",children:[e.jsx(N,{className:"h-8 w-8"}),"KI-gest√ºtzter Regulatory Assistant"]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Semantische Suche √ºber alle Datenquellen ‚Ä¢ Multi-Agent Routing ‚Ä¢ Echtzeit Analysen"})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:w.map(s=>e.jsxs("button",{onClick:()=>v(s.id),className:`p-4 rounded-lg border-2 transition-all ${j===s.id?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"text-2xl mb-2",children:s.icon}),e.jsx("div",{className:"font-bold text-sm",children:s.label}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:s.description})]},s.id))}),e.jsxs(c,{className:"h-96 flex flex-col",children:[e.jsxs(d,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Chat mit RAG-System"]}),e.jsx(C,{children:"Stellen Sie Fragen zu regulatorischen Updates, Patenten und Compliance-Dokumenten"})]}),e.jsxs(x,{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"flex-1 overflow-y-auto mb-4 space-y-4",children:[l.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[e.jsx(D,{className:"h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"Starten Sie eine Konversation √ºber regulatorische Themen"})]}):l.map(s=>e.jsx("div",{className:`flex ${s.role==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${s.role==="user"?"bg-blue-600 text-white":"bg-gray-100 text-gray-900"}`,children:[e.jsx("p",{className:"text-sm",children:s.content}),e.jsx("div",{className:"text-xs mt-1 opacity-70",children:s.timestamp.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})})]})},s.id)),r&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 text-gray-900 px-4 py-2 rounded-lg",children:e.jsx(y,{className:"h-5 w-5 animate-spin"})})}),e.jsx("div",{ref:f})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(E,{placeholder:"Fragen Sie nach regulatorischen Updates...",value:n,onChange:s=>u(s.target.value),onKeyPress:S,disabled:r,className:"flex-1"}),e.jsx(k,{onClick:b,disabled:r||!n.trim(),className:"bg-blue-600 hover:bg-blue-700",children:r?e.jsx(y,{className:"h-4 w-4 animate-spin"}):e.jsx(M,{className:"h-4 w-4"})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(c,{children:[e.jsx(d,{className:"pb-3",children:e.jsxs(o,{className:"text-sm flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4 text-yellow-500"}),"RAG-Technologie"]})}),e.jsx(x,{className:"text-sm text-gray-600",children:"Retrieval-Augmented Generation f√ºr pr√§zise, quellengest√ºtzte Antworten"})]}),e.jsxs(c,{children:[e.jsx(d,{className:"pb-3",children:e.jsxs(o,{className:"text-sm flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-green-500"}),"Sichere Verarbeitung"]})}),e.jsx(x,{className:"text-sm text-gray-600",children:"Alle Daten werden verschl√ºsselt und lokal verarbeitet"})]}),e.jsxs(c,{children:[e.jsx(d,{className:"pb-3",children:e.jsxs(o,{className:"text-sm flex items-center gap-2",children:[e.jsx(N,{className:"h-4 w-4 text-purple-500"}),"Multi-Agent System"]})}),e.jsx(x,{className:"text-sm text-gray-600",children:"Spezialisierte KI-Agenten f√ºr verschiedene regulatorische Bereiche"})]})]})]})}export{I as default};
