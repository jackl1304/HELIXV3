import{as as v,r as x,a as b,j as e,bn as t,C as l,c as r,d as c,e as d,B as w,h as m,aA as k}from"./index-BUxZYuNm.js";import{T as A}from"./textarea-Cyl8eECO.js";import{P as j}from"./progress-C0uVNcle.js";function L(){const{toast:o}=v(),[n,u]=x.useState(""),[h,g]=x.useState(!1),[s,y]=x.useState(null),[C,S]=x.useState("analysis"),{data:z,isLoading:T}=b({queryKey:["/api/analytics-insights"],queryFn:()=>fetch("/api/analytics-insights").then(a=>a.json())}),p=async()=>{if(!n.trim()){o({title:"Fehler",description:"Bitte geben Sie Inhalt zum Analysieren ein.",variant:"destructive"});return}g(!0);try{const a=await k("/api/analytics/analyze-content","POST",{content:n.trim(),contentType:"regulatory"});y(a.data),o({title:"Analyse abgeschlossen",description:a.message||"Analyse erfolgreich durchgefÃ¼hrt"})}catch(a){console.error("Content Analysis failed:",a),o({title:"Analyse fehlgeschlagen",description:a.message||"Ein Fehler ist aufgetreten",variant:"destructive"})}finally{g(!1)}},N=a=>{switch(a.toLowerCase()){case"critical":return"bg-red-500";case"high":return"bg-orange-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},f=a=>{switch(a.toLowerCase()){case"high":return"destructive";case"medium":return"default";case"low":return"outline";default:return"secondary"}};return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx(t,{name:"intelligence",className:"h-8 w-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Content Analysis"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Automatische Kategorisierung und Bewertung von Regulatory Content"})]})]}),e.jsxs(l,{className:"mb-8",children:[e.jsx(r,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(t,{name:"document",className:"h-5 w-5"}),"Content Input"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsx(A,{placeholder:"ðŸ”´ MOCK DATA - Geben Sie hier den zu analysierenden Regulatory Content ein - AUTHENTIC ANALYSIS SERVICE REQUIRED",value:n,onChange:a=>u(a.target.value),rows:6,className:"w-full"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[n.length," Zeichen"]}),e.jsx(w,{onClick:p,disabled:h||!n.trim(),className:"flex items-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Analysiere..."]}):e.jsxs(e.Fragment,{children:[e.jsx(t,{name:"search",className:"h-4 w-4"}),"Inhalt analysieren"]})})]})]})]}),s&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(l,{children:[e.jsx(r,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(t,{name:"target",className:"h-5 w-5 text-blue-600"}),"Kategorisierung"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Kategorien"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.categorization.categories.map((a,i)=>e.jsx(m,{variant:"default",children:a},i))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"GerÃ¤tetypen"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.categorization.deviceTypes.map((a,i)=>e.jsx(m,{variant:"outline",children:a},i))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Therapeutischer Bereich"}),e.jsx("p",{className:"text-sm mt-1",children:s.categorization.therapeuticArea})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Risikostufe"}),e.jsx(m,{variant:f(s.categorization.riskLevel),className:"mt-1",children:s.categorization.riskLevel})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Konfidenz-Score"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(j,{value:s.categorization.confidence*100,className:"h-2"}),e.jsxs("span",{className:"text-sm text-gray-500 mt-1",children:[Math.round(s.categorization.confidence*100),"%"]})]})]})]})]}),e.jsxs(l,{children:[e.jsx(r,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(t,{name:"chart",className:"h-5 w-5 text-green-600"}),"Bewertung"]})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"PrioritÃ¤t"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${N(s.evaluation.priority)}`}),e.jsx("span",{className:"text-sm capitalize",children:s.evaluation.priority})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"ZeitkritikalitÃ¤t"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(t,{name:"clock",className:"h-4 w-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:s.evaluation.timelineSensitivity})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"QualitÃ¤ts-Score"}),e.jsxs("div",{className:"mt-2",children:[e.jsx(j,{value:s.evaluation.qualityScore,className:"h-2"}),e.jsxs("span",{className:"text-sm text-gray-500 mt-1",children:[s.evaluation.qualityScore,"%"]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Sentiment"}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[s.evaluation.sentiment==="positive"&&e.jsx(t,{name:"check",className:"h-4 w-4 text-green-500"}),s.evaluation.sentiment==="negative"&&e.jsx(t,{name:"alert",className:"h-4 w-4 text-red-500"}),s.evaluation.sentiment==="neutral"&&e.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-400"}),e.jsx("span",{className:"text-sm capitalize",children:s.evaluation.sentiment})]})]})]})]})]}),e.jsxs(l,{className:"lg:col-span-2",children:[e.jsx(r,{children:e.jsxs(c,{className:"flex items-center gap-2",children:[e.jsx(t,{name:"lightbulb",className:"h-5 w-5 text-yellow-600"}),"Erkenntnisse & Zusammenfassung"]})}),e.jsxs(d,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"KI-Zusammenfassung"}),e.jsx("p",{className:"text-sm mt-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:s.insights.summary})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"SchlÃ¼sselpunkte"}),e.jsx("ul",{className:"text-sm mt-2 space-y-1",children:s.insights.keyPoints.map((a,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(t,{name:"check",className:"h-3 w-3 text-green-500 mt-1 flex-shrink-0"}),a]},i))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Erkannte EntitÃ¤ten"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.insights.entities.slice(0,8).map((a,i)=>e.jsx(m,{variant:"secondary",className:"text-xs",children:a},i))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(t,{name:"shield",className:"h-4 w-4"}),"Compliance-Bereiche"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:s.insights.complianceAreas.map((a,i)=>e.jsx(m,{variant:"default",children:a},i))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Empfehlungen"}),e.jsx("ul",{className:"text-sm mt-2 space-y-1",children:s.insights.recommendations.slice(0,3).map((a,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(t,{name:"lightbulb",className:"h-3 w-3 text-yellow-500 mt-1 flex-shrink-0"}),a]},i))})]})]})]})]}),e.jsxs(l,{className:"lg:col-span-2",children:[e.jsx(r,{children:e.jsx(c,{className:"text-sm",children:"Analyse-Metadaten"})}),e.jsx(d,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Verarbeitet am:"}),e.jsx("br",{}),new Date(s.metadata.processedAt).toLocaleString("de-DE")]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Content-LÃ¤nge:"}),e.jsx("br",{}),s.metadata.contentLength," Zeichen"]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Analyse-Version:"}),e.jsx("br",{}),s.metadata.analysisVersion]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Verarbeitungszeit:"}),e.jsx("br",{}),s.metadata.processingTime]})]})})]})]})]})}export{L as default};
