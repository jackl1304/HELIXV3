import{r as w,as as P,u as U,a as R,b as v,j as e,B as a,av as B,a7 as n,_ as c,ax as y,C as o,c as N,d as f,q as b,e as u,h as S,G as K,af as L,l as V,A as I,K as O,E as H,ay as W}from"./index-Zh9LXilC.js";import{T as $}from"./textarea-i5NrZRDI.js";import{S as g,a as m,b as x,c as p,d as l}from"./select-gtWyGZLW.js";import{D as J,a as Y,b as X,c as Z,d as ee,e as se}from"./dialog-CyhKwo7K.js";import"./index-mrnBHjv1.js";function ce(){var D,M,T;const[te,ie]=w.useState(null),[E,h]=w.useState(!1),[i,r]=w.useState({}),{toast:d}=P(),k=U(),Q=[{name:"MedTech Dive",url:"https://www.medtechdive.com/",description:"TÃ¤gliche Nachrichten und Analysen fÃ¼r FachkrÃ¤fte der Medizintechnik-Branche",category:"industry_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,rssUrl:"https://www.medtechdive.com/feeds/news/",status:"pending"},{name:"MedTech Europe Monthly",url:"https://www.medtecheurope.org/medtech-views/newsletters/",description:"Monatliche Newsletter mit umfassender Berichterstattung Ã¼ber den Medizintechniksektor",category:"regulatory_newsletter",region:"Europe",language:"en",priority:"high",requiresAuth:!0,status:"pending"},{name:"Citeline Medtech Insight",url:"https://insights.citeline.com/medtech-insight/",description:"Globale Medtech-Nachrichten und Einblicke - Premium Content",category:"industry_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,status:"pending"},{name:"MedTech World News",url:"https://med-tech.world/news/",description:"Aktuelle Nachrichten, Fortschritte, Veranstaltungen und Einblicke in die Medizintechnik",category:"industry_newsletter",region:"Global",language:"en",priority:"medium",requiresAuth:!1,rssUrl:"https://med-tech.world/feed/",status:"active"},{name:"EY MedTech Pulse Reports",url:"https://www.ey.com/en_us/life-sciences/pulse-of-medtech-industry-outlook",description:"JÃ¤hrliche Branchenberichte und Trends der MedTech-Industrie",category:"industry_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,status:"pending"},{name:"Deloitte MedTech Insights",url:"https://www2.deloitte.com/us/en/pages/life-sciences-and-health-care/articles/medtech-industry-trends.html",description:"Strategische Einblicke und Trends der MedTech-Branche",category:"industry_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,status:"pending"},{name:"WHO Medical Device Updates",url:"https://apps.who.int/iris/handle/10665/42744",description:"Globale Richtlinien und Regulierung von Medizinprodukten",category:"regulatory_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!1,rssUrl:"https://www.who.int/rss-feeds/news-releases",status:"active"},{name:"Medical Design & Outsourcing",url:"https://www.medicaldesignandoutsourcing.com/",description:"Medizinprodukt-Design und Fertigung News",category:"industry_newsletter",region:"Global",language:"en",priority:"medium",requiresAuth:!0,status:"pending"},{name:"MedDevice Online",url:"https://www.meddeviceonline.com/",description:"Medizinprodukt-Nachrichten und Technologie-Updates",category:"industry_newsletter",region:"Global",language:"en",priority:"medium",requiresAuth:!0,status:"pending"},{name:"Regulatory Affairs Professionals Society (RAPS)",url:"https://www.raps.org/",description:"Regulatory Affairs News und Best Practices",category:"regulatory_newsletter",region:"Global",language:"en",priority:"high",requiresAuth:!0,status:"pending"}],{data:j=[],isLoading:z}=R({queryKey:["/api/newsletter/sources"]}),C=v({mutationFn:s=>fetch("/api/newsletter/sources",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(t=>t.json()),onSuccess:()=>{d({title:"Newsletter-Quelle gespeichert",description:"Die Quelle wurde erfolgreich hinzugefÃ¼gt/aktualisiert."}),k.invalidateQueries({queryKey:["/api/newsletter/sources"]}),h(!1),r({})},onError:()=>{d({title:"Fehler",description:"Die Newsletter-Quelle konnte nicht gespeichert werden.",variant:"destructive"})}}),q=v({mutationFn:s=>fetch(`/api/newsletter/sources/${s}`,{method:"DELETE"}),onSuccess:()=>{d({title:"Newsletter-Quelle gelÃ¶scht",description:"Die Quelle wurde erfolgreich entfernt."}),k.invalidateQueries({queryKey:["/api/newsletter/sources"]})}}),A=v({mutationFn:s=>fetch(`/api/newsletter/sources/${s}/test`,{method:"POST"}).then(t=>t.json()),onSuccess:s=>{d({title:"Test erfolgreich",description:`Verbindung zur Newsletter-Quelle erfolgreich. ${s.articlesFound||0} Artikel gefunden.`})},onError:()=>{d({title:"Test fehlgeschlagen",description:"Verbindung zur Newsletter-Quelle konnte nicht hergestellt werden.",variant:"destructive"})}}),_=s=>{r(s),h(!0)},G=()=>{if(!i.name||!i.url){d({title:"Fehler",description:"Name und URL sind erforderlich.",variant:"destructive"});return}C.mutate(i)};return e.jsxs("div",{className:"container mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"ðŸ“§ Newsletter Administration"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2",children:"Verwalten Sie authentische Newsletter-Quellen fÃ¼r die Wissensdatenbank"})]}),e.jsxs(J,{open:E,onOpenChange:h,children:[e.jsx(Y,{asChild:!0,children:e.jsxs(a,{className:"bg-[#d95d2c] hover:bg-[#b8441f]",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"Neue Quelle hinzufÃ¼gen"]})}),e.jsxs(X,{className:"max-w-2xl",children:[e.jsxs(Z,{children:[e.jsx(ee,{children:"Newsletter-Quelle konfigurieren"}),e.jsx(se,{children:"FÃ¼gen Sie eine neue authentische Newsletter-Quelle hinzu oder bearbeiten Sie eine bestehende."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"name",children:"Name"}),e.jsx(c,{id:"name",value:i.name||"",onChange:s=>r(t=>({...t,name:s.target.value})),placeholder:"z.B. MedTech Dive"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"category",children:"Kategorie"}),e.jsxs(g,{value:i.category,onValueChange:s=>r(t=>({...t,category:s})),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Kategorie wÃ¤hlen"})}),e.jsxs(p,{children:[e.jsx(l,{value:"industry_newsletter",children:"Branchen-Newsletter"}),e.jsx(l,{value:"regulatory_newsletter",children:"Regulatory Newsletter"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"url",children:"Website URL"}),e.jsx(c,{id:"url",value:i.url||"",onChange:s=>r(t=>({...t,url:s.target.value})),placeholder:"https://www.medtechdive.com/"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"rssUrl",children:"RSS Feed URL (optional)"}),e.jsx(c,{id:"rssUrl",value:i.rssUrl||"",onChange:s=>r(t=>({...t,rssUrl:s.target.value})),placeholder:"https://www.medtechdive.com/feeds/news/"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:"Beschreibung"}),e.jsx($,{id:"description",value:i.description||"",onChange:s=>r(t=>({...t,description:s.target.value})),placeholder:"Beschreibung der Newsletter-Quelle..."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"region",children:"Region"}),e.jsxs(g,{value:i.region,onValueChange:s=>r(t=>({...t,region:s})),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Region"})}),e.jsxs(p,{children:[e.jsx(l,{value:"Global",children:"Global"}),e.jsx(l,{value:"Europe",children:"Europa"}),e.jsx(l,{value:"USA",children:"USA"}),e.jsx(l,{value:"Germany",children:"Deutschland"})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"language",children:"Sprache"}),e.jsxs(g,{value:i.language,onValueChange:s=>r(t=>({...t,language:s})),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"Sprache"})}),e.jsxs(p,{children:[e.jsx(l,{value:"de",children:"Deutsch"}),e.jsx(l,{value:"en",children:"English"})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"priority",children:"PrioritÃ¤t"}),e.jsxs(g,{value:i.priority,onValueChange:s=>r(t=>({...t,priority:s})),children:[e.jsx(m,{children:e.jsx(x,{placeholder:"PrioritÃ¤t"})}),e.jsxs(p,{children:[e.jsx(l,{value:"high",children:"Hoch"}),e.jsx(l,{value:"medium",children:"Mittel"}),e.jsx(l,{value:"low",children:"Niedrig"})]})]})]})]}),i.requiresAuth&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[e.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[e.jsx(y,{className:"h-4 w-4"}),"Anmeldedaten (optional)"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"email",children:"E-Mail"}),e.jsx(c,{id:"email",type:"email",value:((D=i.credentials)==null?void 0:D.email)||"",onChange:s=>r(t=>({...t,credentials:{...t.credentials,email:s.target.value}})),placeholder:"newsletter@beispiel.com"})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"password",children:"Passwort"}),e.jsx(c,{id:"password",type:"password",value:((M=i.credentials)==null?void 0:M.password)||"",onChange:s=>r(t=>({...t,credentials:{...t.credentials,password:s.target.value}})),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"apiKey",children:"API-SchlÃ¼ssel (falls vorhanden)"}),e.jsx(c,{id:"apiKey",value:((T=i.credentials)==null?void 0:T.apiKey)||"",onChange:s=>r(t=>({...t,credentials:{...t.credentials,apiKey:s.target.value}})),placeholder:"api_key_here..."})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(a,{variant:"outline",onClick:()=>h(!1),children:"Abbrechen"}),e.jsx(a,{onClick:G,disabled:C.isPending,className:"bg-[#d95d2c] hover:bg-[#b8441f]",children:"Speichern"})]})]})]})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsx(f,{children:"Authentische Newsletter-Quellen"}),e.jsx(b,{children:"Empfohlene MedTech-Newsletter fÃ¼r die Wissensdatenbank"})]}),e.jsx(u,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Q.map((s,t)=>{var F;return e.jsxs(o,{className:"border-l-4 border-l-[#d95d2c]",children:[e.jsxs(N,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{className:"text-lg",children:s.name}),e.jsx(S,{variant:s.priority==="high"?"destructive":"secondary",children:s.priority==="high"?"Hoch":"Mittel"})]}),e.jsx(b,{className:"text-sm",children:s.description})]}),e.jsx(u,{className:"pt-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(K,{className:"h-3 w-3"}),s.region," â€¢ ",(F=s.language)==null?void 0:F.toUpperCase(),s.requiresAuth&&e.jsx(y,{className:"h-3 w-3 ml-2 text-orange-500"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{size:"sm",variant:"outline",onClick:()=>window.open(s.url,"_blank"),children:e.jsx(L,{className:"h-3 w-3"})}),e.jsx(a,{size:"sm",onClick:()=>_(s),className:"bg-[#d95d2c] hover:bg-[#b8441f]",children:"HinzufÃ¼gen"})]})]})})]},t)})})})]}),e.jsxs(o,{children:[e.jsxs(N,{children:[e.jsxs(f,{children:["Konfigurierte Newsletter-Quellen (",j.length,")"]}),e.jsx(b,{children:"Verwalten Sie Ihre aktiven Newsletter-Abonnements und Anmeldedaten"})]}),e.jsx(u,{children:z?e.jsx("div",{className:"text-center py-8",children:"Lade Newsletter-Quellen..."}):j.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"Noch keine Newsletter-Quellen konfiguriert. FÃ¼gen Sie eine der empfohlenen Quellen hinzu."}):e.jsx("div",{className:"space-y-4",children:j.map(s=>e.jsx(o,{children:e.jsx(u,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsx(S,{variant:s.status==="active"?"default":"secondary",children:s.status==="active"?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"h-3 w-3 mr-1"}),"Aktiv"]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-3 w-3 mr-1"}),"Inaktiv"]})}),s.requiresAuth&&e.jsxs(S,{variant:"outline",children:[e.jsx(y,{className:"h-3 w-3 mr-1"}),"Anmeldung erforderlich"]})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.description}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[e.jsx("span",{children:s.region}),e.jsx("span",{children:s.category}),s.lastSync&&e.jsxs("span",{children:["Letzte Sync: ",new Date(s.lastSync).toLocaleDateString("de-DE")]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(a,{size:"sm",variant:"outline",onClick:()=>A.mutate(s.id),disabled:A.isPending,children:[e.jsx(O,{className:"h-3 w-3 mr-1"}),"Test"]}),e.jsx(a,{size:"sm",variant:"outline",onClick:()=>{r(s),h(!0)},children:e.jsx(H,{className:"h-3 w-3"})}),e.jsx(a,{size:"sm",variant:"outline",onClick:()=>q.mutate(s.id),children:e.jsx(W,{className:"h-3 w-3"})})]})]})})},s.id))})})]})]})}export{ce as default};
