import{r,x as L,z,a as T,j as e,H as o,C as l,c as h,d as x,S as u,e as n,_ as c,h as g,q as A,$ as B,Q as E,B as P}from"./index-BUxZYuNm.js";import{S as _,a as J,b as R,c as q,d as i}from"./select-Dxhz2xZH.js";import{C as j}from"./customer-navigation-B-CG8ezh.js";import{u as F}from"./use-live-tenant-permissions-CteBuFiC.js";import"./index-NLfbe9Ak.js";const G="030d3e01-32c4-4f95-8d54-98be948e8d4b";function $(){const[f,v]=r.useState(""),[p,N]=r.useState("all"),[y,b]=r.useState(""),[S,w]=r.useState(""),d=L().tenantId||G,{t:C}=z(),{permissions:D,tenantName:m,isLoading:k}=F({tenantId:d,pollInterval:3e3}),a=D||{dashboard:!0,regulatoryUpdates:!0,legalCases:!0,knowledgeBase:!1,newsletters:!1,analytics:!1,reports:!1,dataCollection:!1,globalSources:!1,historicalData:!1,administration:!1,userManagement:!1,systemSettings:!1,auditLogs:!1,analyticsInsights:!1,advancedAnalytics:!1},{data:t=[],isLoading:I,error:V}=T({queryKey:["legal-cases-customer",d],queryFn:async()=>{const s=await fetch("/api/legal-cases");if(!s.ok)throw new Error("Failed to fetch legal cases");return await s.json()},enabled:!!(a!=null&&a.legalCases)});return k?e.jsx("div",{className:"flex h-screen bg-gray-50",children:e.jsx("div",{className:"flex items-center justify-center w-full",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})}):a!=null&&a.legalCases?e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(o,{})}),e.jsx(j,{permissions:a,tenantName:m||"Customer Portal"}),e.jsx("main",{className:"ml-64 flex-1 p-8 overflow-y-auto",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Rechtsprechung"}),e.jsx("p",{className:"text-gray-600",children:"Gerichtsentscheidungen und Präzedenzfälle im Medizinprodukterecht"})]}),e.jsx(l,{className:"mb-6",children:e.jsx(n,{className:"p-6",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[e.jsx("div",{children:e.jsx(c,{placeholder:"Suche nach Fällen...",value:f,onChange:s=>v(s.target.value)})}),e.jsx("div",{children:e.jsxs(_,{value:p,onValueChange:N,children:[e.jsx(J,{children:e.jsx(R,{placeholder:"Jurisdiction"})}),e.jsxs(q,{children:[e.jsx(i,{value:"all",children:"Alle Jurisdiktionen"}),e.jsx(i,{value:"germany",children:"Deutschland"}),e.jsx(i,{value:"eu",children:"Europa"}),e.jsx(i,{value:"usa",children:"USA"})]})]})}),e.jsx("div",{children:e.jsx(c,{type:"date",placeholder:"Von Datum",value:y,onChange:s=>b(s.target.value)})}),e.jsx("div",{children:e.jsx(c,{type:"date",placeholder:"Bis Datum",value:S,onChange:s=>w(s.target.value)})})]})})}),I?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[1,2,3,4].map(s=>e.jsxs("div",{className:"bg-white rounded-lg p-6 animate-pulse",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded mb-2"})]},s))}):t&&Array.isArray(t)&&t.length>0?e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:t.map(s=>e.jsxs(l,{className:"hover:shadow-md transition-shadow",children:[e.jsxs(h,{children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx(x,{className:"text-lg font-semibold line-clamp-2",children:s.title}),e.jsx(g,{variant:s.impact_level==="high"?"destructive":"default",children:s.impact_level||"medium"})]}),e.jsx(A,{className:"line-clamp-2",children:s.summary})]}),e.jsxs(n,{children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(B,{className:"w-4 h-4"}),e.jsx("span",{children:s.court})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"w-4 h-4"}),e.jsx("span",{children:new Date(s.decision_date).toLocaleDateString("de-DE")})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(g,{variant:"outline",children:s.case_number}),e.jsx(P,{variant:"outline",size:"sm",children:"Details anzeigen"})]})]})]},s.id))}):e.jsx(l,{children:e.jsxs(n,{className:"text-center py-12",children:[e.jsx(u,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Keine Rechtsprechung verfügbar"}),e.jsx("p",{className:"text-gray-500",children:"Aktuell sind keine Gerichtsentscheidungen vorhanden."})]})})]})})]}):e.jsxs("div",{className:"flex min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx("div",{className:"fixed top-4 right-4 z-50",children:e.jsx(o,{})}),e.jsx(j,{permissions:a,tenantName:m||"Customer Portal"}),e.jsx("main",{className:"ml-64 flex-1 flex items-center justify-center",children:e.jsxs(l,{className:"max-w-md",children:[e.jsx(h,{children:e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5"}),C("access.restricted")]})}),e.jsx(n,{children:e.jsx("p",{className:"text-muted-foreground",children:"Sie haben keine Berechtigung für den Zugriff auf Rechtsprechung. Kontaktieren Sie Ihren Administrator für weitere Informationen."})})]})})]})}export{$ as default};
